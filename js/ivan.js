function percent(){let e=document.documentElement.scrollTop||window.pageYOffset,n=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-document.documentElement.clientHeight,l=Math.round(e/n*100),a=document.querySelector("#percent");var t=window.scrollY+document.documentElement.clientHeight,o=document.getElementById("post-comment")||document.getElementById("footer");o.offsetTop+o.offsetHeight/2<t||l>90?(document.querySelector("#nav-totop").classList.add("long"),a.innerHTML="返回顶部"):(document.querySelector("#nav-totop").classList.remove("long"),l>=0&&(a.innerHTML=l)),endresult=n-e,endresult<100?$("#nav-music").addClass("hide"):$("#nav-music").removeClass("hide"),window.onscroll=percent}function tonav(){document.getElementById("name-container").setAttribute("style","opacity:0");var e=$(window).scrollTop();$(window).scroll((function(){var n=$(window).scrollTop();n>e?(document.getElementById("name-container").setAttribute("style",""),document.getElementsByClassName("menus_items")[1].setAttribute("style","opacity:0")):(document.getElementsByClassName("menus_items")[1].setAttribute("style",""),document.getElementById("name-container").setAttribute("style","opacity:0")),e=n})),document.getElementById("page-name").innerText=document.title.split(" | Ivan")[0]}function saveData(e,n){localStorage.setItem(e,JSON.stringify({time:Date.now(),data:n}))}function loadData(e,n){let l=JSON.parse(localStorage.getItem(e));if(l){let e=Date.now()-l.time;if(e<60*n*1e3&&e>-1)return l.data}return 0}try{let e=loadData("blogbg",1440);e?changeBg(e,1):localStorage.removeItem("blogbg")}catch(e){localStorage.removeItem("blogbg")}function changeBg(e,n){let l=document.getElementById("web_bg");"#"==e.charAt(0)?(l.style.backgroundColor=e,l.style.backgroundImage="none"):l.style.backgroundImage=e,n||saveData("blogbg",e)}var winbox="";function createWinbox(){let e=document.createElement("div");document.body.appendChild(e),winbox=WinBox({id:"changeBgBox",index:999,title:"切换背景",x:"center",y:"center",minwidth:"300px",height:"60%",background:"var(--ivany-blue)",onmaximize:()=>{e.innerHTML="<style>body::-webkit-scrollbar {display: none;}div#changeBgBox {width: 100% !important;}</style>"},onrestore:()=>{e.innerHTML=""}}),winResize(),window.addEventListener("resize",winResize),winbox.body.innerHTML='\n  <div id="article-container" style="padding:10px;">\n  \n  <p><button onclick="localStorage.removeItem(\'blogbg\');location.reload();" style="background:#5fcdff;display:block;width:100%;padding: 15px 0;border-radius:6px;color:white;"><i class="fa-solid fa-arrows-rotate"></i> 点我恢复默认背景</button></p>\n  <h2 id="图片（手机）"><a href="#图片（手机）" class="headerlink" title="图片（手机）"></a>图片（手机）</h2>\n  <details>\n  <summary>点击展开手机图片</summary>\n  <div class="bgbox">\n  <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.mirl.ml/i/ivan/2023/02/22/xcb9mk.webp)" class="pimgbox" onclick="changeBg(\'url(https://img.mirl.ml/i/ivan/2023/02/22/xcb9mk.webp)\')">\n  </a>\n  <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.mirl.ml/i/ivan/2023/02/22/xc1022.webp)" class="pimgbox" onclick="changeBg(\'url(https://img.mirl.ml/i/ivan/2023/02/22/xc1022.webp)\')">\n  </a>\n  <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.mirl.ml/i/ivan/2023/02/22/xbxrjy.webp)" class="pimgbox" onclick="changeBg(\'url(https://img.mirl.ml/i/ivan/2023/02/22/xbxrjy.webp)\')">\n  </a>\n  <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.mirl.ml/i/ivan/2023/02/22/xbsvyg.webp)" class="pimgbox" onclick="changeBg(\'url(https://img.mirl.ml/i/ivan/2023/02/22/xbsvyg.webp)\')">\n  </a>\n  <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.mirl.ml/i/ivan/2023/02/22/xbqd6n.webp)" class="pimgbox" onclick="changeBg(\'url(https://img.mirl.ml/i/ivan/2023/02/22/xbqd6n.webp)\')">\n  </a>\n  <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.mirl.ml/i/ivan/2023/02/22/xb7snv.webp)" class="pimgbox" onclick="changeBg(\'url(https://img.mirl.ml/i/ivan/2023/02/22/xb7snv.webp)\')">\n  </a>\n  <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.mirl.ml/i/ivan/2023/02/22/xb500d.webp)" class="pimgbox" onclick="changeBg(\'url(https://img.mirl.ml/i/ivan/2023/02/22/xb500d.webp)\')">\n  </a>\n  <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.mirl.ml/i/ivan/2023/02/22/xasujh.webp)" class="pimgbox" onclick="changeBg(\'url(https://img.mirl.ml/i/ivan/2023/02/22/xasujh.webp)\')">\n  </a>\n  <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.mirl.ml/i/ivan/2023/02/22/xar72s.webp)" class="pimgbox" onclick="changeBg(\'url(https://img.mirl.ml/i/ivan/2023/02/22/xar72s.webp)\')">\n  </a>\n  </div>\n  </details>\n  <h2 id="图片（电脑）"><a href="#图片（电脑）" class="headerlink" title="图片（电脑）"></a>图片（电脑）</h2>\n  <details>\n  <summary>点击展开电脑图片</summary>\n  <div class="bgbox">\n  <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.mirl.ml/i/ivan/2023/02/22/zdlz4l.webp)" class="dimgbox" onclick="changeBg(\'url(https://img.mirl.ml/i/ivan/2023/02/22/zdlz4l.webp)\')">\n  </a>\n  <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.mirl.ml/i/ivan/2023/02/22/zdnnc7.webp)" class="dimgbox" onclick="changeBg(\'url(https://img.mirl.ml/i/ivan/2023/02/22/zdnnc7.webp)\')">\n  </a>\n  <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.mirl.ml/i/ivan/2023/02/22/zds3gq.webp)" class="dimgbox" onclick="changeBg(\'url(https://img.mirl.ml/i/ivan/2023/02/22/zds3gq.webp)\')">\n  </a>\n  <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.mirl.ml/i/ivan/2023/02/22/ze9e49.webp)" class="dimgbox" onclick="changeBg(\'url(https://img.mirl.ml/i/ivan/2023/02/22/ze9e49.webp)\')">\n  </a>\n  <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.mirl.ml/i/ivan/2023/02/22/zeel8l.webp)" class="dimgbox" onclick="changeBg(\'url(https://img.mirl.ml/i/ivan/2023/02/22/zeel8l.webp)\')">\n  </a>\n  <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.mirl.ml/i/ivan/2023/02/22/zfdz6b.webp)" class="dimgbox" onclick="changeBg(\'url(https://img.mirl.ml/i/ivan/2023/02/22/zfdz6b.webp)\')">\n  </a>\n  <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.mirl.ml/i/ivan/2023/02/22/zevq9c.webp)" class="dimgbox" onclick="changeBg(\'url(https://img.mirl.ml/i/ivan/2023/02/22/zevq9c.webp)\')">\n  </a>\n  <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.mirl.ml/i/ivan/2023/02/22/zfdz6b.webp)" class="dimgbox" onclick="changeBg(\'url(https://img.mirl.ml/i/ivan/2023/02/22/zfdz6b.webp)\')">\n  </a>\n  <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.mirl.ml/i/ivan/2023/02/22/zfm4xp.webp)" class="dimgbox" onclick="changeBg(\'url(https://img.mirl.ml/i/ivan/2023/02/22/zfm4xp.webp)\')">\n  </a>\n  <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.mirl.ml/i/ivan/2023/02/22/zfmzij.webp)" class="dimgbox" onclick="changeBg(\'url(https://img.mirl.ml/i/ivan/2023/02/22/zfmzij.webp)\')">\n  </a>\n  <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.mirl.ml/i/ivan/2023/02/22/zfwm74.webp)" class="dimgbox" onclick="changeBg(\'url(https://img.mirl.ml/i/ivan/2023/02/22/zfwm74.webp)\')">\n  </a>\n  <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.mirl.ml/i/ivan/2023/02/22/zg1t54.webp)" class="dimgbox" onclick="changeBg(\'url(https://img.mirl.ml/i/ivan/2023/02/22/zg1t54.webp)\')">\n  </a>\n  </div>\n  </details>\n  \n  \n  <h2 id="渐变色"><a href="#渐变色" class="headerlink" title="渐变色"></a>渐变色</h2>\n  <div class="bgbox">\n  <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: linear-gradient(to right, #eecda3, #ef629f)" onclick="changeBg(\'linear-gradient(to right, #eecda3, #ef629f)\')">\n  </a>\n  <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: linear-gradient(to right, #4AC29A, #BDFFF3)" onclick="changeBg(\'linear-gradient(to right, #4AC29A, #BDFFF3)\')">\n  </a>\n  <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: linear-gradient(to right, #B2FEFA, #0ED2F7)" onclick="changeBg(\'linear-gradient(to right, #B2FEFA, #0ED2F7)\')">\n  </a>\n  <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: linear-gradient(to right, #44A08D, #093637)" onclick="changeBg(\'linear-gradient(to right, #44A08D, #093637)\')">\n  </a>\n  <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: linear-gradient(to right, #F0F2F0, #000C40)" onclick="changeBg(\'linear-gradient(to right, #F0F2F0, #000C40)\')">\n  </a>\n  <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: linear-gradient(to right, #E8CBC0, #636FA4)" onclick="changeBg(\'linear-gradient(to right, #E8CBC0, #636FA4)\')">\n  </a>\n  </div>\n  \n  <h2 id="纯色"><a href="#纯色" class="headerlink" title="纯色"></a>纯色</h2>\n  <div class="bgbox">\n  <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #7D9D9C" onclick="changeBg(\'#7D9D9C\')"></a> \n  <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #fae3d9" onclick="changeBg(\'#fae3d9\')"></a> \n  <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #bbded6" onclick="changeBg(\'#bbded6\')"></a> \n  <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #ffb6b9" onclick="changeBg(\'#ffb6b9\')"></a> \n  <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #d9d9f3" onclick="changeBg(\'#d9d9f3\')"></a> \n  <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #ceefe4" onclick="changeBg(\'#ceefe4\')"></a> \n  <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #6b778d" onclick="changeBg(\'#6b778d\')"></a> \n  <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #fff7f7" onclick="changeBg(\'#fff7f7\')"></a> \n  </div>\n'}function winResize(){let e=document.querySelector("#changeBgBox");if(e&&!e.classList.contains("min")&&!e.classList.contains("max")){var n=document.documentElement.clientWidth;n<=768?winbox.resize(.95*n+"px","90%").move("center","center"):winbox.resize(.6*n+"px","70%").move("center","center")}}function toggleWinbox(){document.querySelector("#changeBgBox")?winbox.toggleClass("hide"):createWinbox()}$(document).ready((function(){percent(),tonav()}));