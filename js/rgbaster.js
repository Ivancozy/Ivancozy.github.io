function coverColor(){var e=document.getElementById("post-top-bg").style.backgroundImage.slice(5,-2);console.log(e),void 0!==e?RGBaster.colors(e,{paletteSize:30,exclude:["rgb(255,255,255)","rgb(0,0,0)","rgb(254,254,254)"],success:function(e){if("rgb(66,90,239)"!=e.dominant){const n=e.dominant.match(/\d+/g);var t=`rgb(${n[0]},${n[1]},${n[2]})`;"light"==getContrastYIQ(colorHex(t))&&(t=LightenDarkenColor(colorHex(t),-40)),document.styleSheets[0].insertRule(":root { --ivany-theme: "+t+" !important; }",0),document.styleSheets[0].insertRule(":root { --ivany-main-op: "+t+" !important; }",0),document.styleSheets[0].insertRule(":root { --ivany-main-op-deep: "+t+" !important; }",0),document.styleSheets[0].insertRule(":root { --ivany-main-none: "+t+" !important; }",0),ivany.initThemeColor(),document.getElementById("post-top-cover").classList.add("loaded")}}}):(document.styleSheets[0].insertRule(":root { --ivany-theme: var(--ivany-theme) !important; }",0),document.styleSheets[0].insertRule(":root { --ivany-main-op: var(--ivany-main-op) !important; }",0),document.styleSheets[0].insertRule(":root { --ivany-main-op-deep: var(--ivany-main-op-deep) !important; }",0),document.styleSheets[0].insertRule(":root { --ivany-main-none: var(--ivany-main-none) !important; }",0),ivany.initThemeColor())}function colorHex(e){var t=e;if(/^(rgb|RGB)/.test(t)){for(var n=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),o="#",r=0;r<n.length;r++){var a=Number(n[r]).toString(16);"0"===a&&(a+=a),o+=a}return 7!==o.length&&(o=t),o}if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t))return t;var i=t.replace(/#/,"").split("");if(6===i.length)return t;if(3===i.length){var s="#";for(r=0;r<i.length;r+=1)s+=i[r]+i[r];return s}}function colorRgb(e){var t=e.toLowerCase();if(t&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)){if(4===t.length){for(var n="#",o=1;o<4;o+=1)n+=t.slice(o,o+1).concat(t.slice(o,o+1));t=n}var r=[];for(o=1;o<7;o+=2)r.push(parseInt("0x"+t.slice(o,o+2)));return"rgb("+r.join(",")+")"}return t}function LightenDarkenColor(e,t){var n=!1;"#"==e[0]&&(e=e.slice(1),n=!0);var o=parseInt(e,16),r=(o>>16)+t;r>255?r=255:r<0&&(r=0);var a=(o>>8&255)+t;a>255?a=255:a<0&&(a=0);var i=(255&o)+t;return i>255?i=255:i<0&&(i=0),(n?"#":"")+String("000000"+(i|a<<8|r<<16).toString(16)).slice(-6)}function getContrastYIQ(e){var t,n=colorRgb(e).match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return t=299*n[1]+587*n[2]+114*n[3],(t/=255e3)>=.5?"light":"dark"}document.addEventListener("pjax:complete",coverColor),document.addEventListener("DOMContentLoaded",coverColor);