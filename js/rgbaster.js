function coverColor(){var e=document.getElementById("post-top-bg").style.backgroundImage.slice(5,-2);e.crossOrigin="Anonymous",console.log(e),void 0!==e?RGBaster.colors(e,{paletteSize:30,exclude:["rgb(255,255,255)","rgb(0,0,0)","rgb(254,254,254)"],success:function(e){if("rgb(66,90,239)"!=e.dominant){const o=e.dominant.match(/\d+/g);var t=`rgb(${o[0]},${o[1]},${o[2]})`;"light"==getContrastYIQ(colorHex(t))&&(t=LightenDarkenColor(colorHex(t),-40)),document.styleSheets[0].addRule(":root","--ivany-theme:"+t+"!important"),document.styleSheets[0].addRule(":root","--ivany-main-op:"+t+"23!important"),document.styleSheets[0].addRule(":root","--ivany-main-op-deep:"+t+"dd!important"),document.styleSheets[0].addRule(":root","--ivany-main-none:"+t+"00!important"),ivany.initThemeColor(),document.getElementById("post-top-cover").classList.add("loaded")}}}):(document.styleSheets[0].addRule(":root","--ivany-theme-auto: var(--ivany-theme)!important"),document.styleSheets[0].addRule(":root","--ivany-main-op: var(--ivany-theme-op)!important"),document.styleSheets[0].addRule(":root","--ivany-main-op-deep:var(--ivany-theme-op-deep)!important"),document.styleSheets[0].addRule(":root","--ivany-main-none: var(--ivany-theme-none)!important"),ivany.initThemeColor())}function colorHex(e){var t=e;if(/^(rgb|RGB)/.test(t)){for(var o=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),n="#",r=0;r<o.length;r++){var a=Number(o[r]).toString(16);"0"===a&&(a+=a),n+=a}return 7!==n.length&&(n=t),n}if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t))return t;var i=t.replace(/#/,"").split("");if(6===i.length)return t;if(3===i.length){var l="#";for(r=0;r<i.length;r+=1)l+=i[r]+i[r];return l}}function colorRgb(e){var t=e.toLowerCase();if(t&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)){if(4===t.length){for(var o="#",n=1;n<4;n+=1)o+=t.slice(n,n+1).concat(t.slice(n,n+1));t=o}var r=[];for(n=1;n<7;n+=2)r.push(parseInt("0x"+t.slice(n,n+2)));return"rgb("+r.join(",")+")"}return t}function LightenDarkenColor(e,t){var o=!1;"#"==e[0]&&(e=e.slice(1),o=!0);var n=parseInt(e,16),r=(n>>16)+t;r>255?r=255:r<0&&(r=0);var a=(n>>8&255)+t;a>255?a=255:a<0&&(a=0);var i=(255&n)+t;return i>255?i=255:i<0&&(i=0),(o?"#":"")+String("000000"+(i|a<<8|r<<16).toString(16)).slice(-6)}function getContrastYIQ(e){var t,o=colorRgb(e).match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return t=299*o[1]+587*o[2]+114*o[3],(t/=255e3)>=.5?"light":"dark"}coverColor();