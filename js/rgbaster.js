function coverColor(){if(window.location.pathname.startsWith("/posts/")){var e=document.getElementById("post-top-bg").style.backgroundImage.slice(5,-2);e.crossOrigin="Anonymous",console.log(e),void 0!==e?RGBaster.colors(e,{paletteSize:30,exclude:["rgb(255,255,255)","rgb(0,0,0)","rgb(254,254,254)"],success:function(e){if("rgb(66,90,239)"!=e.dominant){const d=e.dominant.match(/\d+/g);var o=`rgb(${d[0]},${d[1]},${d[2]})`;"light"==(n=t(o),a=function(e){var t=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/,o=e.toLowerCase();if(o&&t.test(o)){if(4===o.length){for(var n="#",r=1;r<4;r+=1)n+=o.slice(r,r+1).concat(o.slice(r,r+1));o=n}var a=[];for(r=1;r<7;r+=2)a.push(parseInt("0x"+o.slice(r,r+2)));return"rgb("+a.join(",")+")"}return o}(n).match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),i=a[1],s=a[2],l=a[3],r=299*i+587*s+114*l,(r/=255e3)>=.5?"light":"dark")&&(o=function(e,t){var o=!1;"#"==e[0]&&(e=e.slice(1),o=!0);var n=parseInt(e,16),r=(n>>16)+t;r>255?r=255:r<0&&(r=0);var a=(n>>8&255)+t;a>255?a=255:a<0&&(a=0);var i=(255&n)+t;i>255?i=255:i<0&&(i=0);return(o?"#":"")+String("000000"+(i|a<<8|r<<16).toString(16)).slice(-6)}(t(o),-40)),document.styleSheets[0].addRule(":root","--ivany-theme:"+o+"!important"),document.styleSheets[0].addRule(":root","--ivany-main-op:"+o+"23!important"),document.styleSheets[0].addRule(":root","--ivany-main-op-deep:"+o+"dd!important"),document.styleSheets[0].addRule(":root","--ivany-main-none:"+o+"00!important"),ivany.initThemeColor(),document.getElementById("post-top-cover").classList.add("loaded")}var n,r,a,i,s,l}}):(document.styleSheets[0].addRule(":root","--ivany-theme-auto: var(--ivany-theme)!important"),document.styleSheets[0].addRule(":root","--ivany-main-op: var(--ivany-theme-op)!important"),document.styleSheets[0].addRule(":root","--ivany-main-op-deep:var(--ivany-theme-op-deep)!important"),document.styleSheets[0].addRule(":root","--ivany-main-none: var(--ivany-theme-none)!important"),ivany.initThemeColor())}function t(e){var t=e;if(/^(rgb|RGB)/.test(t)){for(var o=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),n="#",r=0;r<o.length;r++){var a=Number(o[r]).toString(16);"0"===a&&(a+=a),n+=a}return 7!==n.length&&(n=t),n}if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t))return t;var i=t.replace(/#/,"").split("");if(6===i.length)return t;if(3===i.length){var s="#";for(r=0;r<i.length;r+=1)s+=i[r]+i[r];return s}}}coverColor();